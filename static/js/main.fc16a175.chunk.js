(this["webpackJsonpwordcloud-game"]=this["webpackJsonpwordcloud-game"]||[]).push([[0],{40:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(1),o=r.n(c),s=r(23),a=r.n(s),i=(r(40),r(3)),l=o.a.createContext({gameMode:"welcome"}),d=function(e){var t=e.children,r=o.a.useState("welcome"),c=Object(i.a)(r,2),s=c[0],a=c[1],d=o.a.useState(0),u=Object(i.a)(d,2),j=u[0],h=u[1];return Object(n.jsx)(l.Provider,{value:{gameMode:s,setMode:function(e){a(e)},setScore:function(e){h(e)},score:j},children:t})},u=function(){var e=o.a.useContext(l);return{gameMode:e.gameMode,setMode:e.setMode,score:e.score,setScore:e.setScore}},j=o.a.createContext({userName:""}),h=function(e){var t=e.children,r=o.a.useState(""),c=Object(i.a)(r,2),s=c[0],a=c[1];return Object(n.jsx)(j.Provider,{value:{userName:s,setUser:function(e){a(e)}},children:t})},b=function(){var e=o.a.useContext(j);return{userName:e.userName,setUser:e.setUser}},f=function(e){var t=e.onSubmit;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsx)("input",{type:"text",placeholder:"Enter your nickname here...",required:!0,minLength:"2"}),Object(n.jsx)("button",{type:"submit",children:"Play"})]})},m=function(){var e=u().setMode,t=b().setUser;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Wordcloud Game"}),Object(n.jsx)(f,{onSubmit:function(r){r.preventDefault(),r.target[0].value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").length>=2&&(t(r.target[0].value),e("play"))}})]})},O=r(33),x=function(e){var t=e.selectWord,r=e.checkMode,c=e.isWordSelected,o=e.isGoodWord,s=e.word;return Object(n.jsx)("div",{className:r?"not_clickable":"",onClick:r?null:t.bind(null,s),children:Object(n.jsxs)("span",{className:"\n\t\t\t".concat(!r&&c?"selected":"","\n\t\t\t").concat(r&&c?o?"good":"wrong":""," \n\t\t\t"),children:[s,r&&c?Object(n.jsx)("i",{className:o?"good":"wrong",children:o?"Good!":"Wrong!"}):null]})})},g=function(e){var t=e.title,r=e.allWords,c=e.goodWords,s=e.selectWord,a=e.selectedWords,l=e.checkMode,d=o.a.useState([]),u=Object(i.a)(d,2),j=u[0],h=u[1];return o.a.useEffect((function(){var e=r.map((function(e){return{word:e,className:"listItem_".concat(Math.floor(5*Math.random())+1)}})).sort((function(){return Math.random()-.5}));h(e)}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:t}),Object(n.jsx)("ul",{children:j.map((function(e){return Object(n.jsx)("li",{className:e.className,children:Object(n.jsx)(x,{word:e.word,selectWord:s,isGoodWord:c.includes(e.word),isWordSelected:a.includes(e.word),checkMode:l})},e.word)}))})]})},w=function(){var e=u(),t=e.setScore,r=e.setMode,o=Object(c.useState)([]),s=Object(i.a)(o,2),a=s[0],l=s[1],d=Object(c.useState)(null),j=Object(i.a)(d,2),h=j[0],b=j[1],f=Object(c.useState)(!1),m=Object(i.a)(f,2),x=m[0],w=m[1];Object(c.useEffect)((function(){fetch("/api/games/").then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return b(e)})).catch((function(e){console.log(e)}))}),[]);return h&&Object.entries(h).length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(g,{title:h.question,allWords:h.all_words,selectWord:function(e){if(a.includes(e)){var t=a.filter((function(e){return!a.includes(e)}));l(t)}else{var r=Object(O.a)(a);r.push(e),l(r)}},selectedWords:a,checkMode:x,goodWords:h.good_words}),Object(n.jsx)("button",{onClick:x?function(){r("finish"),w(!1)}:function(){var e=0,r=0;a.forEach((function(t){h.good_words.includes(t)?e++:r++}));var n=h.good_words.length-e;t(2*e-(r+n)),w(!0)},children:x?"Finish Game":"Check Answers"})]}):Object(n.jsx)("p",{children:"Loading..."})},v=function(){var e=u().score,t=b().userName;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("p",{children:["Congratulations, ",t,"!"]}),Object(n.jsx)("p",{children:"Your score:"}),Object(n.jsxs)("p",{className:"info",children:[e," points"]})]})},p=function(){var e=u().gameMode;return Object(n.jsx)("div",{children:function(){switch(e){case"welcome":return Object(n.jsx)(m,{});case"play":return Object(n.jsx)(w,{});case"finish":return Object(n.jsx)(v,{})}}()})},M=r(34),k=[{question:"select animals",all_words:["hole","sofa","pear","tiger","oatmeal","square","nut","cub","shirt","tub","passenger","cow"],good_words:["tiger","cow"]},{question:"select colors",all_words:["jeans","existence","ink","red","blue","yellow","laugh","behavior","expansion","white","black","cakes"],good_words:["red","blue","yellow","white","black"]},{question:"select vehicles",all_words:["belief","wire","car","bus","star","river","hat","skirt","train"],good_words:["car","bus","train"]}];new M.a({routes:function(){this.namespace="api",this.get("/games/",(function(){return k[Math.floor(3*Math.random())]}))}});var S=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(d,{children:Object(n.jsx)(h,{children:Object(n.jsx)(p,{})})})})};a.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.fc16a175.chunk.js.map